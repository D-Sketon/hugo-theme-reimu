<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Reimu's Hugo Blog</title><link>https://d-sketon.github.io/hugo-theme-reimu/en/algolia.json</link><description>Recent content from Reimu's Hugo Blog</description><generator>Hugo</generator><language>en</language><managingEditor>xxx@example.com (D-Sketon)</managingEditor><webMaster>xxx@example.com (D-Sketon)</webMaster><copyright>All website licensed under CC BY 4.0</copyright><lastBuildDate>Sat, 08 Mar 2025 17:35:52 +0800</lastBuildDate><atom:link href="https://d-sketon.github.io/hugo-theme-reimu/en/index.xml" rel="self" type="application/rss+xml"/><item><title>How to use Algolia search in hugo-theme-reimu</title><link>https://d-sketon.github.io/hugo-theme-reimu/en/post/algolia/</link><pubDate>Sat, 08 Mar 2025 17:35:52 +0800</pubDate><author>xxx@example.com (D-Sketon)</author><guid>https://d-sketon.github.io/hugo-theme-reimu/en/post/algolia/</guid><description><![CDATA[<h1>How to use Algolia search in hugo-theme-reimu</h1><p>作者: D-Sketon (xxx@example.com)</p>
          <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">cover</span><span class="p">:</span><span class="w"> </span><span class="l">https://p0.qhimg.com/bdr/__85/t017621231bafff441f.jpg</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">---</span><span class="w">
</span></span></span></code></pre></div><p>Registering for Algolia</p>
<ol>
<li>Go to the <a href="https://www.algolia.com/">Algolia website</a> and create an account.</li>
<li>Navigate to the <a href="https://dashboard.algolia.com/">Dashboard</a> - <code>Search</code> - <code>Index</code> page, click <code>+ Create Index</code> to create an index, and remember the index name.</li>
<li>Go to the <a href="https://dashboard.algolia.com/">Dashboard</a> - <code>Settings</code> - <code>API Keys</code> page and note the following:
<ul>
<li><code>Application ID</code></li>
<li><code>Search API Key</code></li>
<li><code>Admin API Key</code></li>
</ul>
</li>
</ol>
<p>Configuring Algolia in Hugo</p>
<ol>
<li>Add the following configuration to the root <code>hugo.toml</code> file. This ensures that when running <code>hugo</code> to generate the site, an <code>algolia.json</code> file is also created in the <code>public</code> folder for Algolia search.</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">outputs</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">home</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;Algolia&#34;</span><span class="p">,</span> <span class="s2">&#34;HTML&#34;</span><span class="p">,</span> <span class="s2">&#34;RSS&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">outputFormats</span><span class="p">.</span><span class="nx">Algolia</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">baseName</span> <span class="p">=</span> <span class="s2">&#34;algolia&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">isPlainText</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="nx">mediaType</span> <span class="p">=</span> <span class="s2">&#34;application/json&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">notAlternative</span> <span class="p">=</span> <span class="kc">true</span>
</span></span></code></pre></div><ol start="2">
<li>In <code>params.yml</code>, set <code>algolia_search.enable</code> to <code>true</code> and fill in the relevant details (Note: Only use the Search-Only Key here. Never enter the Admin Key, as it could lead to security risks!).</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">algolia_search</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">appID</span><span class="p">:</span><span class="w"> </span><span class="c"># The Application ID mentioned above</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">apiKey</span><span class="p">:</span><span class="w"> </span><span class="c"># The Search API Key mentioned above</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">indexName</span><span class="p">:</span><span class="w"> </span><span class="c"># The name of the created index</span><span class="w">
</span></span></span></code></pre></div><p>Uploading the Index</p>
        <hr><p>本文 2025-03-08 首发于 <a href='https://d-sketon.github.io/hugo-theme-reimu/'>Reimu's Hugo Blog</a>，最后修改于 2025-03-08</p>]]></description></item><item><title>Markdown Basic Elements</title><link>https://d-sketon.github.io/hugo-theme-reimu/en/post/main/</link><pubDate>Thu, 09 Jun 2022 20:12:54 +0800</pubDate><author>xxx@example.com (D-Sketon)</author><guid>https://d-sketon.github.io/hugo-theme-reimu/en/post/main/</guid><description><![CDATA[<h1>Markdown Basic Elements</h1><p>作者: D-Sketon (xxx@example.com)</p>
          <h2 id="markdown-basic-elements">
<a class="header-anchor" href="#markdown-basic-elements"></a>
Markdown Basic Elements
</h2><h3 id="title">
<a class="header-anchor" href="#title"></a>
Title
</h3><h1 id="h1">
<a class="header-anchor" href="#h1"></a>
H1
</h1><h2 id="h2">
<a class="header-anchor" href="#h2"></a>
H2
</h2><h3 id="h3">
<a class="header-anchor" href="#h3"></a>
H3
</h3><h4 id="h4">
<a class="header-anchor" href="#h4"></a>
H4
</h4><h5 id="h5">
<a class="header-anchor" href="#h5"></a>
H5
</h5><h6 id="h6">
<a class="header-anchor" href="#h6"></a>
H6
</h6><h3 id="emphasis">
<a class="header-anchor" href="#emphasis"></a>
Emphasis
</h3><p>Emphasis, aka italics, with <em>asterisks</em> or <em>underscores</em>.</p>
<p>Strong emphasis, aka bold, with <strong>asterisks</strong> or <strong>underscores</strong>.</p>
<p>Combined emphasis with <strong>asterisks and <em>underscores</em></strong>.</p>
<p>Strikethrough uses two tildes. <del>Scratch this.</del></p>
<h3 id="list">
<a class="header-anchor" href="#list"></a>
List
</h3><h4 id="definition-list-dl">
<a class="header-anchor" href="#definition-list-dl"></a>
Definition List (dl)
</h4><dl><dt>Definition List Title</dt><dd>This is a definition list division.</dd></dl>
<h4 id="ordered-list-ol">
<a class="header-anchor" href="#ordered-list-ol"></a>
Ordered List (ol)
</h4><ol>
<li>List Item 1</li>
<li>List Item 2</li>
<li>List Item 3</li>
</ol>
<h4 id="unordered-list-ul">
<a class="header-anchor" href="#unordered-list-ul"></a>
Unordered List (ul)
</h4><ul>
<li>List Item 1</li>
<li>List Item 2</li>
<li>List Item 3</li>
</ul>
<h3 id="paragraph">
<a class="header-anchor" href="#paragraph"></a>
Paragraph
</h3><p>Lorem ipsum dolor sit amet, <a href="">test link</a> consectetur adipiscing elit. <strong>Strong text</strong> pellentesque ligula commodo viverra vehicula. <em>Italic text</em> at ullamcorper enim. Morbi a euismod nibh. <u>Underline text</u> non elit nisl. <del>Deleted text</del> tristique, sem id condimentum tempus, metus lectus venenatis mauris, sit amet semper lorem felis a eros. Fusce egestas nibh at sagittis auctor. Sed ultricies ac arcu quis molestie. Donec dapibus nunc in nibh egestas, vitae volutpat sem iaculis. Curabitur sem tellus, elementum nec quam id, fermentum laoreet mi. Ut mollis ullamcorper turpis, vitae facilisis velit ultricies sit amet. Etiam laoreet dui odio, id tempus justo tincidunt id. Phasellus scelerisque nunc sed nunc ultricies accumsan.</p>
        <hr><p>本文 2022-06-09 首发于 <a href='https://d-sketon.github.io/hugo-theme-reimu/'>Reimu's Hugo Blog</a>，最后修改于 2022-06-09</p>]]></description><category>test</category></item><item><title>Japanese Test Post</title><link>https://d-sketon.github.io/hugo-theme-reimu/en/post/japanese/</link><pubDate>Thu, 09 Jun 2022 20:12:53 +0800</pubDate><author>xxx@example.com (D-Sketon)</author><guid>https://d-sketon.github.io/hugo-theme-reimu/en/post/japanese/</guid><description><![CDATA[<h1>Japanese Test Post</h1><p>作者: D-Sketon (xxx@example.com)</p>
          <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">cover</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">---</span><span class="w">
</span></span></span></code></pre></div><p>This is a Japanese test post.</p>
<p>私は昨日ついにその助力家というのの上よりするたなけれ。</p>
<p>最も今をお話団はちょうどこの前後なかろでくらいに困りがいるたをは帰着考えたなかって、そうにもするでうたらない。</p>
<p>がたを知っないはずも同時に九月をいよいよたありた。</p>
<p>もっと槙さんにぼんやり金少し説明にえた自分大した人私か影響にというお関係たうませないが、この次第も私か兄具合に使うて、槙さんののに当人のあなたにさぞご意味と行くて私個人が小尊敬を聴いように同時に同反抗に集っだうて、いよいよまず相当へあっうからいだ事をしでなけれ。</p>
<blockquote>
<p>それでそれでもご時日をしはずはたったいやと突き抜けるますて、その元がは行ったてという獄を尽すていけですた。</p></blockquote>
<p>この中道具の日その学校はあなたごろがすまなりかとネルソンさんの考えるですん、辺の事実ないというご盲従ありたですと、爺さんのためが薬缶が結果までの箸の当時してならて、多少の十月にためからそういう上からとにかくしましないと触れべきものたで、ないうですと多少お人達したのでたた。</p>
<p><em>From <a href="https://lipsum.sugutsukaeru.jp/index.cgi">すぐ使えるダミーテキスト - 日本語 Lorem ipsum</a></em></p>
        <hr><p>本文 2022-06-09 首发于 <a href='https://d-sketon.github.io/hugo-theme-reimu/'>Reimu's Hugo Blog</a>，最后修改于 2022-06-09</p>]]></description></item><item><title>Friends Link</title><link>https://d-sketon.github.io/hugo-theme-reimu/en/friend/</link><pubDate>Thu, 09 Jun 2022 20:12:52 +0800</pubDate><author>xxx@example.com (D-Sketon)</author><guid>https://d-sketon.github.io/hugo-theme-reimu/en/friend/</guid><description><![CDATA[<h1>Friends Link</h1><p>作者: D-Sketon (xxx@example.com)</p>
          <h2 id="site-information">
<a class="header-anchor" href="#site-information"></a>
Site Information
</h2><ul>
<li>Site Name​​: D-Sketon</li>
<li>Site Owner: D-Sketon</li>
</ul>
<h2 id="application-method">
<a class="header-anchor" href="#application-method"></a>
Application Method
</h2><p>After adding this site, leave a comment on this page in the following format:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="l">```yml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="c">#Your name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="c">#Your website URL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">desc</span><span class="p">:</span><span class="w"> </span><span class="c">#A brief description</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">image </span><span class="p">:</span><span class="w"> </span><span class="c">#An image</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">```</span><span class="w">
</span></span></span></code></pre></div><h2 id="friends">
<a class="header-anchor" href="#friends"></a>
Friends
</h2>


<div class="friend-wrap" data-aos="zoom-in">
  
    <div class="friend-item-wrap">
      <a href="https://d-sketon.github.io/" rel="noopener external nofollow noreferrer" target="_blank"></a>
      <div class="friend-icon-wrap">
        <div class="friend-icon">
          <img
            data-src="https://d-sketon.github.io/avatar/avatar.webp"
            data-sizes="auto"
            alt="D-Sketon"
            class="lazyload"
          />
        </div>
      </div>
      <div class="friend-info-wrap">
        <div class="friend-name">
          D-Sketon
        </div>
        <div class="friend-desc">
          Hexo 建站
        </div>
      </div>
    </div>
  
    <div class="friend-item-wrap">
      <a href="https://d-sketon.github.io/astro-theme-reimu/" rel="noopener external nofollow noreferrer" target="_blank"></a>
      <div class="friend-icon-wrap">
        <div class="friend-icon">
          <img
            data-src="https://d-sketon.github.io/avatar/avatar.webp"
            data-sizes="auto"
            alt="D-Sketon"
            class="lazyload"
          />
        </div>
      </div>
      <div class="friend-info-wrap">
        <div class="friend-name">
          D-Sketon
        </div>
        <div class="friend-desc">
          Astro 建站
        </div>
      </div>
    </div>
  
</div>
        <hr><p>本文 2022-06-09 首发于 <a href='https://d-sketon.github.io/hugo-theme-reimu/'>Reimu's Hugo Blog</a>，最后修改于 2022-06-09</p>]]></description></item><item><title>Chinese Test Post</title><link>https://d-sketon.github.io/hugo-theme-reimu/en/post/chinese/</link><pubDate>Thu, 09 Jun 2022 20:12:52 +0800</pubDate><author>xxx@example.com (D-Sketon)</author><guid>https://d-sketon.github.io/hugo-theme-reimu/en/post/chinese/</guid><description><![CDATA[<h1>Chinese Test Post</h1><p>作者: D-Sketon (xxx@example.com)</p>
          <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">cover</span><span class="p">:</span><span class="w"> </span><span class="l">rgb(255,233, 255)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">---</span><span class="w">
</span></span></span></code></pre></div><p>This is a Chinese test post.</p>
<p>善我王上魚、產生資西員合兒臉趣論。畫衣生這著爸毛親可時，安程幾？合學作。觀經而作建。都非子作這！法如言子你關！手師也。</p>
<p>以也座論頭室業放。要車時地變此親不老高小是統習直麼調未，行年香一？</p>
<p>就竟在，是我童示讓利分和異種百路關母信過明驗有個歷洋中前合著區亮風值新底車有正結，進快保的行戰從：弟除文辦條國備當來際年每小腳識世可的的外的廣下歌洲保輪市果底天影；全氣具些回童但倒影發狀在示，數上學大法很，如要我……月品大供這起服滿老？應學傳者國：山式排只不之然清同關；細車是！停屋常間又，資畫領生，相們制在？公別的人寫教資夠。資再我我！只臉夫藝量不路政吃息緊回力之；兒足灣電空時局我怎初安。意今一子區首者微陸現際安除發連由子由而走學體區園我車當會，經時取頭，嚴了新科同？很夫營動通打，出和導一樂，查旅他。坐是收外子發物北看蘭戰坐車身做可來。道就學務。</p>
<p>國新故。</p>
<blockquote>
<p>工步他始能詩的，裝進分星海演意學值例道……於財型目古香亮自和這乎？化經溫詩。只賽嚴大一主價世哥受的沒有中年即病行金拉麼河。主小路了種就小為廣不？</p></blockquote>
<p><em>From <a href="http://www.richyli.com/tool/loremipsum/">亂數假文產生器 - Chinese Lorem Ipsum</a></em></p>
        <hr><p>本文 2022-06-09 首发于 <a href='https://d-sketon.github.io/hugo-theme-reimu/'>Reimu's Hugo Blog</a>，最后修改于 2022-06-09</p>]]></description></item><item><title>About</title><link>https://d-sketon.github.io/hugo-theme-reimu/en/about/</link><pubDate>Thu, 09 Jun 2022 20:12:52 +0800</pubDate><author>xxx@example.com (D-Sketon)</author><guid>https://d-sketon.github.io/hugo-theme-reimu/en/about/</guid><description><![CDATA[<h1>About</h1><p>作者: D-Sketon (xxx@example.com)</p>
          <link rel="stylesheet" href="/hugo-theme-reimu/css/heat-map.min.23b7a69d885b6fd650bcd347ab1dd34cc451a06a4b4d8d6adf7dd925aa20a157.css" />

<div id="heatmap"></div>

<script>
var MONTH_NAMES = [
  "Jan",
  "Feb",
  "Mar",
  "Apr",
  "May",
  "Jun",
  "Jul",
  "Aug",
  "Sep",
  "Oct",
  "Nov",
  "Dec",
];

var pluralize = (num, word) => (`${num} ${word}${num <= 1 ? '' : 's'}`);

function getTooltip(contributionDay, contributionDate) {
  
  const formattedDate = new Date(
    contributionDate.getTime() - contributionDate.getTimezoneOffset() * 60000,
  )
    .toISOString()
    .split("T")[0];

  if (contributionDay.count === 0) {
    return `No writing on ${formattedDate}`;
  }

  const postText = pluralize(contributionDay.post, "post");
  const wordText = pluralize(contributionDay.count, "word");

  return `${postText} ${wordText} on ${formattedDate}`;
}

function createCalendar(element, contributionData) {
  if (!element) {
    return;
  }
  element.innerHTML = `
    <div class="outer-box">
      <div class="year-select"></div>
      <div class="inner-box">
        <div class="calendar-container">
          ${["Mon", "Wed", "Fri"].map((t) => `<span class="week">${t}</span>`).join("")}
          <div class="legend">Less${new Array(5)
            .fill(0)
            .map((_, i) => `<i class="tile" data-level="${i}"></i>`)
            .join("")}More</div>
          <div class="tiles"></div>
        </div>
      </div>
    </div>
  `;

  const calendarContainer = element.querySelector(".calendar-container");
  const yearSelector = element.querySelector(".year-select");
  const tilesContainer = element.querySelector(".tiles");

  const allContributionData = completeContributionData(contributionData);
  const currentDisplayYear = new Date().getFullYear();

  yearSelector.innerHTML = Object.keys(allContributionData)
    .sort((a, b) => b - a)
    .map(
      (year) =>
        `<div class="year-option ${year == currentDisplayYear ? "active" : ""}">${year}</div>`,
    )
    .join("");

  yearSelector.addEventListener("click", ({ target }) => {
    if (target.classList.contains("year-option")) {
      element.querySelector(".active")?.classList.remove("active");
      target.classList.add("active");
      generateYearContributions(target.textContent);
    }
  });

  const generateYearContributions = (year) => {
    tilesContainer.innerHTML = "";
    calendarContainer.querySelectorAll(".month").forEach((m) => m.remove());
    calendarContainer.querySelectorAll(".total").forEach((t) => t.remove());
    const data = allContributionData[year];
    const startRow = new Date(data[0].date).getDay();
    let latestMonth = -1;

    const monthFragment = document.createDocumentFragment();
    const tilesFragment = document.createDocumentFragment();

    const [tiles, totalStatistical] = data.reduce(
      ([tiles, stats], c, i) => {
        const date = new Date(c.date);
        const month = date.getMonth();

        
        stats.count += c.count;
        stats.post += c.post;

        
        if (date.getDay() === 0 && month !== latestMonth) {
          const gridColumn = 2 + Math.floor((i + startRow) / 7);
          latestMonth = month;
          const monthLabel = document.createElement("span");
          monthLabel.className = "month";
          monthLabel.textContent = MONTH_NAMES[month];
          monthLabel.style.gridColumn = gridColumn;
          monthFragment.append(monthLabel);
        }
        
        const tile = document.createElement("i");
        tile.className = "tile";
        tile.dataset.level = c.level;
        tile.title = getTooltip(c, date);
        tiles.push(tile);
        return [tiles, stats];
      },
      [[], { count: 0, post: 0 }],
    );

    
    if (tiles[0]) {
      tiles[0].style.gridRow = startRow + 1;
    }

    tilesFragment.append(...tiles);

    calendarContainer.append(monthFragment);
    tilesContainer.append(tilesFragment);

    calendarContainer.insertAdjacentHTML(
      "beforeend",
      `<div class="total">${pluralize(totalStatistical.post, "post")} ${pluralize(totalStatistical.count, "word")} in ${year}</div>`,
    );
  };

  
  generateYearContributions(currentDisplayYear);
}

function completeContributionData(userData) {
  
  userData.sort((a, b) => a.date - b.date);

  
  const startDate = new Date(userData[0].date);
  const currentDate = new Date();

  
  const allData = {};
  
  const userDataMap = {};
  userData.forEach((data) => {
    const dataDate = new Date(data.date);
    const key = `${dataDate.getFullYear()}-${dataDate.getMonth()}-${dataDate.getDate()}`;
    userDataMap[key] = data;
  });

  
  for (
    let year = startDate.getFullYear();
    year <= currentDate.getFullYear();
    year++
  ) {
    const [startYear, endYear] =
      year === currentDate.getFullYear()
        ? [
            new Date(
              new Date(currentDate).setDate(currentDate.getDate() - 365),
            ),
            new Date(currentDate.getTime() + 86400000),
          ]
        : [new Date(year, 0, 1), new Date(year + 1, 0, 1)];

    const yearData = [];
    for (let d = startYear; d < endYear; d.setDate(d.getDate() + 1)) {
      const key = `${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`;
      yearData.push(
        userDataMap[key] || {
          level: 0,
          date: d.getTime(),
          count: 0,
          post: 0,
        },
      );
    }
    allData[year] = yearData;
  }
  return allData;
}


var articleStats = [{"date":"2025-03-08","lastmod":"2025-03-08","title":"How to use Algolia search in hugo-theme-reimu","wordcount":285},{"date":"2022-06-09","lastmod":"2022-06-09","title":"Markdown Basic Elements","wordcount":1843},{"date":"2022-06-09","lastmod":"2022-06-09","title":"Japanese Test Post","wordcount":456},{"date":"2022-06-09","lastmod":"2022-06-09","title":"Chinese Test Post","wordcount":467},{"date":"2022-06-09","lastmod":"2022-06-09","title":"Friends Link","wordcount":57},{"date":"2022-06-08","lastmod":"2022-06-08","title":"Gallery","wordcount":124}];

function getLevelFromWordCount(totalCount) {
  const levelStandard = "1000,5000,10000".split(",").map(Number);
  if (totalCount <= 0) return 0;
  if (totalCount <= levelStandard[0]) return 1;
  if (totalCount <= levelStandard[1]) return 2;
  if (totalCount <= levelStandard[2]) return 3;
  return 4;
}

function transformArticlesData(articlesData) {
  const dailyStats = articlesData.reduce((map, { date, wordcount }) => {
    const entry = map.get(date) ?? { count: 0, post: 0 };
    return map.set(date, {
      count: entry.count + wordcount,
      post: entry.post + 1,
    });
  }, new Map());

  return Array.from(dailyStats, ([dayStr, { count, post }]) => ({
    level: getLevelFromWordCount(count),
    date: new Date(dayStr).getTime(),
    count,
    post,
  }));
}

createCalendar(document.querySelector("#heatmap"), transformArticlesData(articleStats));
</script>

<p>A Hakurei Reimu style Hugo theme. Migrated from <a href="https://github.com/D-Sketon/hexo-theme-reimu">hexo-theme-reimu</a>.</p>
        <hr><p>本文 2022-06-09 首发于 <a href='https://d-sketon.github.io/hugo-theme-reimu/'>Reimu's Hugo Blog</a>，最后修改于 2022-06-09</p>]]></description></item><item><title>Gallery</title><link>https://d-sketon.github.io/hugo-theme-reimu/en/post/gallery/</link><pubDate>Wed, 08 Jun 2022 20:12:52 +0800</pubDate><author>xxx@example.com (D-Sketon)</author><guid>https://d-sketon.github.io/hugo-theme-reimu/en/post/gallery/</guid><description><![CDATA[<h1>Gallery</h1><p>作者: D-Sketon (xxx@example.com)</p>
          <p>Anim eiusmod irure incididunt sint cupidatat. Incididunt irure irure irure nisi ipsum do ut quis fugiat consectetur proident cupidatat incididunt cillum. Dolore voluptate occaecat qui mollit laborum ullamco et. Ipsum laboris officia anim laboris culpa eiusmod ex magna ex cupidatat anim ipsum aute. Mollit aliquip occaecat qui sunt velit ut cupidatat reprehenderit enim sunt laborum. Velit veniam in officia nulla adipisicing ut duis officia.</p>
<p>Exercitation voluptate irure in irure tempor mollit Lorem nostrud ad officia. Velit id fugiat occaecat do tempor. Sit officia Lorem aliquip eu deserunt consectetur. Aute proident deserunt in nulla aliquip dolore ipsum Lorem ut cupidatat consectetur sit sint laborum. Esse cupidatat sit sint sunt tempor exercitation deserunt. Labore dolor duis laborum est do nisi ut veniam dolor et nostrud nostrud.</p>
        <hr><p>本文 2022-06-08 首发于 <a href='https://d-sketon.github.io/hugo-theme-reimu/'>Reimu's Hugo Blog</a>，最后修改于 2022-06-08</p>]]></description></item></channel></rss>